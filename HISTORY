TAG: dbsnpload-3-4-4-1
DATE: 04/06/2006
STAFF: sc
RELEASE: 3.44
CHANGES: COPY, not cvs merge, build125 branch to trunk

TAG: dbsnpload-build125-7
DATE: 04/06/2006
STAFF: sc
RELEASE: 3.44
CHANGES: updated Configuration.default for production

TAG: dbsnpload-build125-6
DATE: 04/06/2006
STAFF: sc
RELEASE: 3.44 
CHANGES:
1) spruced up class/method headers, removed commented out code, 
   cleaned up imports, cleaned up debug 
2) SNPLoaderExceptionFactory - removed old Strain Set and CoordFile
   exceptions
3) removed SNPLoadIterator
4) DBSNPLOaderCfg - removed getCoordFileName and getOkToDeleteStrainSet
5) DBSNPLoader - added count of all ss for all rs looked at 
6) DBSNPInputProcessor - added count of ss loaded

TAG: dbsnpload-build125-5
DATE: 04/03/2006
STAFF: sc
RELEASE: 3.44 - Dev Build 2
CHANGES: 
1) dbsnpload.config.default - 
   a) updated SNP_DBURL to correct port, 
   b) added SNP_Population and SNP_Accession to SNP_UPDATE_MGITABLES,
   c) changed snp backup name to snp_load.backup,
   d) Need 2 paths to the backup one on local unix server, one on so
        created SNP_LOCALBACKUP and SNP_REMOTEBACKUP
   e) removed SNP_ prefix on SCP* variables so the framework
        uses them rather than the default which creates files in the 
        root dir of the product named script.sql and script.out
2) dbsnpload.sh - 
    a) need closing quote on first echo in main,
    b) added status logging of postProcess call,
    c) removed old runcoordload function
    d) added more comments; echo the snp db and server as well as the mgd ones
3) postProcess.sh setSglUser.sh - added(had forgotten to commit)
4) postProcess.sh - updated with SNP_LOCALBACKUP and SNP_REMOTEBACKUP
5) added system_docs directory containing dataflow.vsd an MS Visio
    diagram documenting snp processing.
6) DBSNPLoader - added test to be sure there were tables configured with
    which to update MGI_Tables so don't get null ptr exception in prevent
    execute mode.
7) snpPopulation.sh - added $ to 'touch ${POP_LOG}

TAG: dbsnpload-build125-4
DATE: 03/27/2006
STAFF: sc
RELEASE: 3.44
CHANGES: TR7461 
1) dbsnpload.sh - removed call to coordload and coordcacheload
     added call to mgidbutilities/doSglUser.csh and 
     ./bin/postProcess.sh
2) snpPopulation.py - removed calls to loadlib functions, 
     updated to talk to  snp database
3) snpPopulation.sh - updated from MGD to SNP config vars
4) updateSnpStrainOrder.py - updated to talk to snp database
5) dbsnpload.config.default - added SNP db config and config
     for new/changed processing
6) removed java classes: SNP.java MGDSNP 
      DBSNPNse RADARSNP
7) added java classes: ChrSeqNumLookup MGI_TablesLookup StrainNameLookup
      MGI_TablesUpdater MGI_dbinfoLookup MGI_dbinfoUpdater SNPSNP
8) SNPLoaderExceptionFactory.java - removed  old exceptions
9) PopNameByPopIdLookup.java - updated to use snp database
10) HandleNameByPopIdLookup.java - queries snp..SNP_Population.subHandle instead
    of joining to mgd..VOC_Term
11) DBSNPLoaderCfg.java - added snp db /removed radar/mgd db config get/set methods 
12) DBSNPLoader.java DBSNPInputProcessor.java - updated to talk to snp database
      
TAG: dbsnpload-build125-3
DATE: 03/02/2006
STAFF: sc
RELEASE: 3.44
CHANGES: TR7461 - the following copied from the tr7392 branch
   Note this tag is after the changes below, but before changes
   to use new 'snp' database. This tag is dependent on lib_java_dbsmgd
   and lib_java_dbsrdr be compiled against a MGI3.43 schema
- the following copied from the tr7392 branch
1) dbsnpload.config.default - 
  A) added StAX jar file to JAVA_LIB, 
     removed Xerces jar file from CLASSPATH, reset Collection name 
     back to build 24 for proper deletion (this var will go away by the
     time we're done with this release
  B) Added SNP_OK_TO_DELETE_STRAINSET
  C)
2) snpPopulation.py - removed created/modified columns from bcp file 
   creation
3) DBSNPInputProcessor.java - 
  A) Added fix for defect #569 - don't load refsnps with 
     missing BL6 coordinates
  B) Added TR7299 fix - consensus Allele isConflict determination corrected
4) SNPLoaderConstants - updated varClass MNP and NAMED constants
5) mgiSNPStrainOrder.txt - added 4 new strains
6) SNP.java - removed SNP_Strain_Cache objects and sending to stream
7) DBSNPNseInputFile.java - added debug output for physMapInt vs physMapStr
- changes since 3.43
1) Changes, primarily to DBSNPINputProcessor merging SNPProcessor.
TAG: dbsnpload-3-4-3-2
DATE: 02/10/2006
STAFF: sc
RELEASE: MGI3.43
CHANGES: removed several old class files from the trunk that did not get
  removed  during the merge.

TAG: dbsnpload-3-4-3-1
DATE: 02/10/2006
STAFF: sc
RELEASE: MGI3.43
CHANGES: merge tr7392 branch to trunk

TAG: dbsnpload-tr7392-7
DATE: 02/09/2006
STAFF: sc
RELEASE: MGI3.43 beta
CHANGES:
1) DBSNPInputProcessor - moved incrementing of the startCoord to the proper plac
e

TAG: dbsnpload-tr7392-6
DATE: 02/08/2006
STAFF: sc
RELEASE: MGI3.43 beta
CHANGES:
1) DBSNPInputProcessor - add 1 to startCoord as input is now zero based
2)DBSNPNseInputFile.java - added reporting when physMapStr different
  than physMapInt + 1
3) dbsnpload.config.default - fixed typo in JAVA_LIB

TAG: dbsnpload-tr7392-5
DATE: 02/08/2006
STAFF: sc
RELEASE: MGI3.43 alpha
CHANGES:
1) dbsnpload.config.default - added SNP_OK_TO_DELETE_STRAINSET

TAG: dbsnpload-tr7392-4
DATE: 02/07/2006
STAFF: sc
RELEASE: MGI3.43 alpha
CHANGES:
1) Defect#569 - DBSNPInputProcessor.java - don't load
   refsnps with missing BL6 coordinates

TAG: dbsnpload-tr7392-3
DATE: 02/01/2006
STAFF: sc
RELEASE: MGI3.43 dev build
CHANGES:
1) SNPLoaderConstants - updated varClass MNP and NAMED constants

dbsnpload-tr7392-2
DATE: 01/20/2006
STAFF: sc
RELEASE: MGI3.43 dev build
CHANGES:
1) DBSNPInputProcessor - tr7299 consensus allele isConflict
   determination
2) DBSNPNse - comment out loading all radar tables except
   MGI_SNP_Marker and MGI_SNP_Accession
3) mgiSnpStrainOrder.txt - added 4 new strains

dbsnpload-tr7392-1
DATE: 01/18/2006
STAFF: sc
RELEASE:
CHANGES:
1) dbsnpload.config.default - added StAX jar file to JAVA_LIB
    removed SNP_Strain_Cache from DLA_TRUNCATE_LOAD_TABLES
2) bin/snpPopulation.py - removed created/modified from
   bcp file
3) DBSNPInputProcessor.java - removed some debug statements
4) SNP.java - removed SNP_Strain_Cache attributes and
   sending to stream
5) SNPProcessor.java - removed method and call to processStrainCache

TAG: dbsnpload-tr7392-BP
DATE: 01/16/2006
STAFF: sc
RELEASE:
CHANGES: Branch point tag made from dbsnpload-build125-2 tag

TAG: dbsnpload-build125-2
DATE: 01/09/2006
STAFF: sc
RELEASE:
CHANGES: 
1) DBSNPLoader.java - added deleteStrains() method
2) added class/method headers

TAG: dbsnpload-build125-1
DATE: 11/28/2005
STAFF: sc
RELEASE:
CHANGES:
1) removed old SAX parser classes
2) data/fxnClass.goodbad - update badname for build 125
3) data/varClass.goodbad - update badname for build 125
4) dbsnpload.config.default - added SNP_CHROMOSOMES_TOLOAD
5) bin/loadVoc.sh - update the tag in the grep statement to find handles
6) Allele.java - rmeoved gtyFlag1 attribute, not using it
7) DBSNPInputProcessor.java - removed analysis code, updated for build 125
8) DBSNPLoader.java - updated for build 125 mainly using 3 *InputDataFile 
   objects 2 for the genotype file 1 for the nse file, each has its own 
   interpreter and using a StAX parser.
9) DBSNPLoaderCfg.java - added getChromosomesToLoad()
10) DBSNPNseInput.java - no longer extends DBSNPInput, added rsId attribute
11) DBSNPNseSS.java - removed validation status attribute
12) SNPLoaderConstants.java - removed separate constants for SS and RS 
    reverse orientation, build 125 uses same value
13) SNPProcessor - updated for build 125
14) new classes:
    * DBSNPGenotypeIndividualInput.java - data object for the Individual
      portion of the genotype files
    * DBSNPGenotypeIndividualInputFile.java - InputFile object that encaps
      the start/end of a 'Individual' record in the genotype input files and 
      has an interpreter to which transforms a record into a
      DBSNPGenotypeIndividualInput
    * DBSNPGenotypeRefSNPInput.java - data object for the strain allele 
      information for each refsnp in the genotype files
    * DBSNPGenotypeRefSNPInputFile.java - InputFile objec that encaps
      the start/end of a 'RefSNP; record in the genotype input files and has an 
      interpreter which transforms a record into a
      DBSNPGenotypeRefSNPInput
    * DBSNPNseInputFile.java - InputFile object that encaps the start/end of a
      'RefSNP' record in the NSE input file files
    * DBSNPNseRS.java - data object representing an RS in the NSE input file,
      the attributes of this class had been attributes of DBSNPNseInput directly
      ; pulled out for easier processing after we added the created and updated
      build attributes.
    * SNPMultiBL6ChrException.java - new exception indicating multiple Chr BL6
      coordinates found for a given refsnp
    * SNPRepeatException.java - new exception indicating another copy of a 
      refsnp record found in the input.


TAG: dbsnpload-build125-BP
DATE: 11/01/2005
STAFF: sc
RELEASE: 
CHANGES: branch point tag

TAG: dbsnpload-3-4-0-10
DATE: 10/25/2005
STAFF: sc
RELEASE: beta
CHANGES:
1) added snp strain ordering scripts
2) dbsnpload.config.default - added snp ordering config, update MGD_BCP_OK_TO_OVERWRITE=true
3) dbsnpload.sh - added call to snp strain ordering script
4) data/SNP_FXN_DAG.ontology - changed reference to Contig-Reference

TAG: dbsnpload-3-4-0-9
DATE: 10/21/2005
STAFF: sc
RELEASE: alpha
CHANGES:
1) DBSNPLoader.java - log processing of ds chr to diag log as Info instead of 
   Debug
2) SNPProcessor.java use constant for SNP Strain MGI_Set._Set_key
3) dbsnpload.sh - log success failure to diag (as well as proc) log
4) loadTranslations.sh - log to new trans log in output directory instead of 
   LOG_DIAG - we may run this outside of the dbsnpload
5) loadVoc.sh and snpPopulation.sh - new logs for each.
6) ./data/fxnClass.goodbad - defect 418 - added reference translation
7) dbsnpload.config.default - updated  COORD_TYPE to "SNP"

TAG: dbsnpload-3-4-0-8
DATE: 10/20/2005
STAFF: sc
RELEASE: preparing for alpha
CHANGES:
1) dbsnpload.config.default - added DSQUERY and MGD so snpPopulation.py
   can run from cron (needed by loadlib.py)

TAG: dbsnpload-3-4-0-7
TAG: dbsnpload-3-4-0-6
TAG: dbsnpload-3-4-0-5 
DATE: 10/18/2005
STAFF: sc
RELEASE: preparing for alpha
CHANGES:
1) dbsnpload.sh - removed archiving of OUTPUTDIR (param to preload)
2) Install.README - added instructions for keeping config files in sync
3) fxnClassDag.config - updated to use environ vars set by the caller
   bin/loadVoc.sh
4) fxnClassDag.rcd - toggled to production SNP_DATA_DIR path
5) subHandleVocab.config and varClassVocab.config - updated ARCHIVE_DIR 
   from vocload directory to OUTPUTDIR
6) dbsnpload.sh - commented out cleanDir; fixed messages to LOG_PROC
7) new ./data SNP_FXN_DAG* files with corrected "within 2 kb" term
8) dbsnpload.config.default - commented better

TAG: dbsnpload-3-4-0-4
DATE: 10/16/2005
STAFF: sc
RELEASE: 3rd dev build
CHANGES:
1) SNPProcessor.java - dohn't create ACC_Accession prefixpart for submitterId -
      it is too long.

TAG: dbsnpload-3-4-0-3
DATE: 10/15/2005
STAFF: sc
RELEASE: 3rd dev build
CHANGES:
1) removed old translation config files that were renamed
2) dbsnpload.sh - reordered vocloads to create new vocab keys in correct order
3) SNPProcessor.java - prepend rsId and ssId with rs and ss respectively
		- prepend rsId with 'rs' for coordload input file
                - add prefixPart and NumericPart to ACC_Accession
4) PopNameByPopIdLookup.java, HandleNameByPopIdLookup.java 
    - updated to use constants rather than hardcoded keys
5) rmvd simple fxnClass vocab configfile and datafile; replaced with DAG version
6) loadVoc.sh - updated to use DAG vocload for fxnClass
7) dbsnpload.config - added VOCDAGLOAD
8) snpPopulation.py - added numericapart, prefixpart to ACC_Accession
9) SNPLoaderConstants.java - added constatns for csnp and ssnp prefixes

TAG: dbsnpload-3-4-0-2
TAG: dbsnpload-3-4-2
DATE: 10/07/2005
STAFF: sc
RELEASE: 2nd dev build
CHANGES:
1) dbsnpload.config.default - removed FXNCLASS_TRANS_LOAD
     and VARCLASS_TRANS_LOAD
2) subHandleVocab.config, fxnClassVocab.config and varClassVocab.config - 
	add subdir to RUNTIME_DIR
3) call translationload.py directly from dbsnpload.sh
   instead of calling varClass.csh and fxnClass.csh 
   wrappers in translationload product.
4) fxnClassTrans.config, varClassTrans.config - new
5) ./data/varClass.vocab.in - added definitions of vor the varClass vocab
6) ./data/fxnClass.vocab.in - cleaned up the upstream/downstream fxnClass
   capitalization
7) loadVoc.sh and loadTranslations.sh and dbsnpload.sh - 
    added -v, -f params, comments, general cleanup
8) dbsnpload.config.default - updated COORD_TYPE to 'SNP'

TAG: dbsnpload-3-4-0-1
TAG: dbsnpload-3-4-0
DATE: 09/23/2005
STAFF: sc
RELEASE: 1st dev build
CHANGES:
1) added code to resolve integer strain keys and resolve RS 
   variation class

TAG: dbsnpload-1-0-3
DATE: 09/23/2005
STAFF: sc
RELEASE: dev
CHANGES:
1) removed dbsnpload.config, added dbsnpload.config.default
2) dbsnpload.sh - removed old runtruncate function
3) SNP.java - added code to add MGI_Set for uniq set of strain keys
4) SNPProcessor.java - added code to add MGI_Set for uniq set of strain keys

TAG: dbsnpload-1-0-2
DATE: 09/08/2005
STAFF: sc
RELEASE: dev
CHANGES:
1) dbsnpload.config - updated configured class names with new package
   name
2) ./data/fxnClass.vocab.in - added the 'within' vocab for 
   mgi determined snp/marker relationships
3) DBSNPInputProcessor.java - updated to with new package names in when
   checking for object types in the processInput method. Added call
   to SNPProcessor.getProcessed report to differentiate between those snps
   added to radar and mgd. e.g if a variation class can't be resolved, that
   snp will not be added to mgd, but will be added to radar, so counts can
   be different.
4) DBSNPLoader.java - catch SNPVocabResolverException in order to count them
   and to continue on to next RS when vocabs can't be resolved.
5) SNPProcessor.java - removed StrainKeyLookup since this is done in 
   DBSNPProcessor now. Added getProcessedReport method to return the count
    of snps loaded into mgd. Added try/catch when resolving vocabs in order
    to catch KeyNotFoundException and throw SNPVocabResolverException. Changed
    processSS method to processSubSnp for consistency. 
6) SNPVocabResolverException - new
	
TAG: dbsnpload-1-0-1
DATE: 08/22/2005
STAFF: sc
RELEASE: dev
CHANGES: 
1) changes additions up until 8/18/2005
   Not done:
   * rs var class calculation 
   * multi population handling
   * need to update jobstream to call coordload as it does in the seqloader.
   *

TAG: dbsnpload-1-0-0
DATE: 08/04/2005
STAFF: sc
RELEASE: dev
CHANGES: initial dev tag - still to do: changes/additions
that came out of 8/4 meeting
 
